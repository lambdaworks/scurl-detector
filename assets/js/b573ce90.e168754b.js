"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[425],{3245(e,t,n){n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"overview/overview_faq","title":"FAQ & Troubleshooting","description":"Frequently Asked Questions","source":"@site/../scurl-detector-docs/target/mdoc/overview/overview_faq.md","sourceDirName":"overview","slug":"/overview/overview_faq","permalink":"/scurl-detector/overview/overview_faq","draft":false,"unlisted":false,"editUrl":"https://github.com/lambdaworks/scurl-detector/edit/main/docs/overview/overview_faq.md","tags":[],"version":"current","frontMatter":{"id":"overview_faq","title":"FAQ & Troubleshooting"},"sidebar":"docs","previous":{"title":"Architecture & Design","permalink":"/scurl-detector/overview/overview_architecture"}}');var r=n(4848),l=n(8453);const i={id:"overview_faq",title:"FAQ & Troubleshooting"},a=void 0,o={},c=[{value:"Frequently Asked Questions",id:"frequently-asked-questions",level:2},{value:"General Questions",id:"general-questions",level:3},{value:"Q: What is Scala URL Detector?",id:"q-what-is-scala-url-detector",level:4},{value:"Q: Which Scala versions are supported?",id:"q-which-scala-versions-are-supported",level:4},{value:"Q: Is this library thread-safe?",id:"q-is-this-library-thread-safe",level:4},{value:"Q: What license is this library under?",id:"q-what-license-is-this-library-under",level:4},{value:"Usage Questions",id:"usage-questions",level:3},{value:"Q: Why are some URLs not being detected?",id:"q-why-are-some-urls-not-being-detected",level:4},{value:"Q: Why is my URL extracted with <code>http://</code> instead of <code>https://</code>?",id:"q-why-is-my-url-extracted-with-http-instead-of-https",level:4},{value:"Q: How do I detect localhost URLs?",id:"q-how-do-i-detect-localhost-urls",level:4},{value:"Q: Can I extract URLs from multiple formats in one pass?",id:"q-can-i-extract-urls-from-multiple-formats-in-one-pass",level:4},{value:"Q: How do I handle relative URLs?",id:"q-how-do-i-handle-relative-urls",level:4},{value:"Q: Why are my bracket/quote characters not being stripped?",id:"q-why-are-my-bracketquote-characters-not-being-stripped",level:4},{value:"Host Filtering Questions",id:"host-filtering-questions",level:3},{value:"Q: How does subdomain matching work?",id:"q-how-does-subdomain-matching-work",level:4},{value:"Q: How do I allow only the apex domain (no subdomains)?",id:"q-how-do-i-allow-only-the-apex-domain-no-subdomains",level:4},{value:"Q: What happens when a URL matches both allowed and denied hosts?",id:"q-what-happens-when-a-url-matches-both-allowed-and-denied-hosts",level:4},{value:"Q: Can I use wildcards in host filtering?",id:"q-can-i-use-wildcards-in-host-filtering",level:4},{value:"Performance Questions",id:"performance-questions",level:3},{value:"Q: Is it better to create one detector or multiple?",id:"q-is-it-better-to-create-one-detector-or-multiple",level:4},{value:"Q: How do I process large documents efficiently?",id:"q-how-do-i-process-large-documents-efficiently",level:4},{value:"Q: Does host filtering impact performance?",id:"q-does-host-filtering-impact-performance",level:4},{value:"Integration Questions",id:"integration-questions",level:3},{value:"Q: How do I use this with Cats Effect or ZIO?",id:"q-how-do-i-use-this-with-cats-effect-or-zio",level:4},{value:"Q: Can I use this with Akka Streams or FS2?",id:"q-can-i-use-this-with-akka-streams-or-fs2",level:4},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Issue: <code>NoClassDefFoundError</code> or <code>ClassNotFoundException</code>",id:"issue-noclassdeffounderror-or-classnotfoundexception",level:3},{value:"Issue: URLs in JSON not detected correctly",id:"issue-urls-in-json-not-detected-correctly",level:3},{value:"Issue: Too many false positives",id:"issue-too-many-false-positives",level:3},{value:"Issue: IPv6 URLs not detected",id:"issue-ipv6-urls-not-detected",level:3},{value:"Issue: Internal/intranet URLs not detected",id:"issue-internalintranet-urls-not-detected",level:3},{value:"Issue: Memory usage is high with large documents",id:"issue-memory-usage-is-high-with-large-documents",level:3},{value:"Issue: Getting <code>java.net.MalformedURLException</code>",id:"issue-getting-javanetmalformedurlexception",level:3},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Pattern: Validating User Input",id:"pattern-validating-user-input",level:3},{value:"Pattern: Extracting APIs from Documentation",id:"pattern-extracting-apis-from-documentation",level:3},{value:"Pattern: Building a URL Allow List",id:"pattern-building-a-url-allow-list",level:3},{value:"Getting Help",id:"getting-help",level:2},{value:"Reporting Bugs",id:"reporting-bugs",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"frequently-asked-questions",children:"Frequently Asked Questions"}),"\n",(0,r.jsx)(t.h3,{id:"general-questions",children:"General Questions"}),"\n",(0,r.jsx)(t.h4,{id:"q-what-is-scala-url-detector",children:"Q: What is Scala URL Detector?"}),"\n",(0,r.jsx)(t.p,{children:"A: Scala URL Detector is a library that extracts URLs from unstructured text. It's built on LinkedIn's URL Detector with a functional, type-safe Scala API using scala-uri for URL representation."}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h4,{id:"q-which-scala-versions-are-supported",children:"Q: Which Scala versions are supported?"}),"\n",(0,r.jsx)(t.p,{children:"A: The library supports Scala 2.12.x, 2.13.x, and 3.x with full cross-compilation."}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h4,{id:"q-is-this-library-thread-safe",children:"Q: Is this library thread-safe?"}),"\n",(0,r.jsxs)(t.p,{children:["A: Yes, all components are immutable and thread-safe. You can safely share ",(0,r.jsx)(t.code,{children:"UrlDetector"})," instances across multiple threads."]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h4,{id:"q-what-license-is-this-library-under",children:"Q: What license is this library under?"}),"\n",(0,r.jsx)(t.p,{children:"A: Apache License 2.0"}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"usage-questions",children:"Usage Questions"}),"\n",(0,r.jsx)(t.h4,{id:"q-why-are-some-urls-not-being-detected",children:"Q: Why are some URLs not being detected?"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Possible reasons:"})}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Invalid URL format"}),": The URL doesn't conform to valid URL syntax"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'// Won\'t be detected - invalid format\nval urls = detector.extract("Invalid: ht!tp://bad")\n'})}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Email addresses"}),": Emails are automatically filtered out"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'// Won\'t be detected - looks like email\nval urls = detector.extract("Contact: user@example.com")\n'})}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Missing TLD"}),": URLs without valid top-level domains are rejected"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'// Won\'t be detected - no valid TLD\nval urls = UrlDetector.default.extract("http://notatld")\n\n// Solution: Use AllowSingleLevelDomain\nval urls = UrlDetector(UrlDetectorOptions.AllowSingleLevelDomain)\n  .extract("http://localhost")\n'})}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Host filtering"}),": The URL is excluded by ",(0,r.jsx)(t.code,{children:"withAllowed"})," or ",(0,r.jsx)(t.code,{children:"withDenied"})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val detector = UrlDetector.default.withAllowed(Host.parse("example.com"))\n// Won\'t detect other.com\nval urls = detector.extract("Visit other.com")\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsxs)(t.h4,{id:"q-why-is-my-url-extracted-with-http-instead-of-https",children:["Q: Why is my URL extracted with ",(0,r.jsx)(t.code,{children:"http://"})," instead of ",(0,r.jsx)(t.code,{children:"https://"}),"?"]}),"\n",(0,r.jsxs)(t.p,{children:["A: URLs without explicit schemes are assigned ",(0,r.jsx)(t.code,{children:"http://"})," by default. Always include the scheme in your URLs:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val detector = UrlDetector.default\n\n// Without scheme - gets http://\ndetector.extract("example.com") // Returns: http://example.com\n\n// With scheme - preserved\ndetector.extract("https://example.com") // Returns: https://example.com\n'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Post-filtering solution:"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val allUrls = detector.extract(text)\nval httpsOnly = allUrls.filter(_.schemeOption.contains("https"))\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h4,{id:"q-how-do-i-detect-localhost-urls",children:"Q: How do I detect localhost URLs?"}),"\n",(0,r.jsxs)(t.p,{children:["A: Use the ",(0,r.jsx)(t.code,{children:"AllowSingleLevelDomain"})," option:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'import io.lambdaworks.detection.{UrlDetector, UrlDetectorOptions}\n\nval detector = UrlDetector(UrlDetectorOptions.AllowSingleLevelDomain)\nval urls = detector.extract("Development: http://localhost:8080")\n// Successfully detects: http://localhost:8080\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h4,{id:"q-can-i-extract-urls-from-multiple-formats-in-one-pass",children:"Q: Can I extract URLs from multiple formats in one pass?"}),"\n",(0,r.jsx)(t.p,{children:"A: No, each detector uses a single detection mode. For multiple formats, create separate detectors or process in multiple passes:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"val htmlUrls = UrlDetector(UrlDetectorOptions.Html).extract(text)\nval jsonUrls = UrlDetector(UrlDetectorOptions.Json).extract(text)\nval allUrls = htmlUrls ++ jsonUrls\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h4,{id:"q-how-do-i-handle-relative-urls",children:"Q: How do I handle relative URLs?"}),"\n",(0,r.jsx)(t.p,{children:"A: The library only extracts absolute URLs. Relative URLs are not detected. If you need to handle relative URLs, you'll need to convert them to absolute URLs first:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'import io.lemonlabs.uri.{AbsoluteUrl, RelativeUrl}\n\nval baseUrl = AbsoluteUrl.parse("https://example.com")\nval relativeUrl = RelativeUrl.parse("/api/v1")\nval absoluteUrl = baseUrl.resolve(relativeUrl)\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h4,{id:"q-why-are-my-bracketquote-characters-not-being-stripped",children:"Q: Why are my bracket/quote characters not being stripped?"}),"\n",(0,r.jsx)(t.p,{children:"A: You need to use the appropriate detection option:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'// Wrong - Default doesn\'t handle brackets\nval detector1 = UrlDetector.default\ndetector1.extract("(https://example.com)") // Includes parentheses\n\n// Correct - Use BracketMatch\nval detector2 = UrlDetector(UrlDetectorOptions.BracketMatch)\ndetector2.extract("(https://example.com)") // https://example.com\n\n// For quotes - use QuoteMatch or SingleQuoteMatch\nval detector3 = UrlDetector(UrlDetectorOptions.QuoteMatch)\ndetector3.extract("\\"https://example.com\\"") // https://example.com\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"host-filtering-questions",children:"Host Filtering Questions"}),"\n",(0,r.jsx)(t.h4,{id:"q-how-does-subdomain-matching-work",children:"Q: How does subdomain matching work?"}),"\n",(0,r.jsx)(t.p,{children:"A: When you specify a host, all subdomains are automatically matched:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'import io.lemonlabs.uri.Host\n\nval detector = UrlDetector.default.withAllowed(Host.parse("example.com"))\n\n// All of these match:\n// - example.com\n// - www.example.com\n// - api.example.com\n// - any.subdomain.example.com\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h4,{id:"q-how-do-i-allow-only-the-apex-domain-no-subdomains",children:"Q: How do I allow only the apex domain (no subdomains)?"}),"\n",(0,r.jsx)(t.p,{children:"A: The library doesn't support apex-only matching. Workaround using post-filtering:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val detector = UrlDetector.default.withAllowed(Host.parse("example.com"))\nval urls = detector.extract(text)\n\n// Filter to apex domain only\nval apexOnly = urls.filter { url =>\n  val host = url.host.toString\n  host == "example.com" || host == "www.example.com"\n}\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h4,{id:"q-what-happens-when-a-url-matches-both-allowed-and-denied-hosts",children:"Q: What happens when a URL matches both allowed and denied hosts?"}),"\n",(0,r.jsx)(t.p,{children:"A: Denied hosts take precedence:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val detector = UrlDetector.default\n  .withAllowed(Host.parse("example.com"))\n  .withDenied(Host.parse("ads.example.com"))\n\ndetector.extract("Visit ads.example.com")\n// Returns: empty Set (denied takes precedence)\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h4,{id:"q-can-i-use-wildcards-in-host-filtering",children:"Q: Can I use wildcards in host filtering?"}),"\n",(0,r.jsx)(t.p,{children:"A: No direct wildcard support, but subdomain matching provides similar functionality. For more complex patterns, use post-filtering:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val urls = UrlDetector.default.extract(text)\n\n// Custom filtering with regex\nval pattern = ".*\\\\.cdn\\\\.example\\\\.com".r\nval cdnUrls = urls.filter { url =>\n  pattern.matches(url.host.toString)\n}\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"performance-questions",children:"Performance Questions"}),"\n",(0,r.jsx)(t.h4,{id:"q-is-it-better-to-create-one-detector-or-multiple",children:"Q: Is it better to create one detector or multiple?"}),"\n",(0,r.jsx)(t.p,{children:"A: Reuse detector instances when possible:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"// Good - reuse instance\nval detector = UrlDetector(UrlDetectorOptions.Html)\nval results = documents.map(doc => detector.extract(doc))\n\n// Less efficient - creates new instance each time\nval results = documents.map { doc =>\n  UrlDetector(UrlDetectorOptions.Html).extract(doc)\n}\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h4,{id:"q-how-do-i-process-large-documents-efficiently",children:"Q: How do I process large documents efficiently?"}),"\n",(0,r.jsx)(t.p,{children:"A: Consider chunking and parallel processing:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"import scala.concurrent.{Future, ExecutionContext}\nimport scala.concurrent.ExecutionContext.Implicits.global\n\ndef extractParallel(largeText: String, chunkSize: Int = 10000): Future[Set[AbsoluteUrl]] = {\n  val chunks = largeText.grouped(chunkSize).toSeq\n  val detector = UrlDetector.default\n\n  val futures = chunks.map(chunk => Future(detector.extract(chunk)))\n  Future.sequence(futures).map(_.flatten.toSet)\n}\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h4,{id:"q-does-host-filtering-impact-performance",children:"Q: Does host filtering impact performance?"}),"\n",(0,r.jsx)(t.p,{children:"A: Host filtering is applied after URL extraction, so it has minimal impact. The overhead is O(m \xd7 h) where m is the number of detected URLs and h is the number of filter hosts."}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"integration-questions",children:"Integration Questions"}),"\n",(0,r.jsx)(t.h4,{id:"q-how-do-i-use-this-with-cats-effect-or-zio",children:"Q: How do I use this with Cats Effect or ZIO?"}),"\n",(0,r.jsx)(t.p,{children:"A: The library is synchronous but can be easily lifted:"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Cats Effect:"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"import cats.effect.IO\nimport io.lambdaworks.detection.UrlDetector\n\ndef extractIO(text: String): IO[Set[AbsoluteUrl]] = {\n  IO(UrlDetector.default.extract(text))\n}\n"})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"ZIO:"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"import zio._\nimport io.lambdaworks.detection.UrlDetector\n\ndef extractZIO(text: String): Task[Set[AbsoluteUrl]] = {\n  ZIO.attempt(UrlDetector.default.extract(text))\n}\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h4,{id:"q-can-i-use-this-with-akka-streams-or-fs2",children:"Q: Can I use this with Akka Streams or FS2?"}),"\n",(0,r.jsx)(t.p,{children:"A: Yes, you can integrate it into stream processing:"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"FS2:"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'import fs2.Stream\nimport cats.effect.IO\nimport io.lambdaworks.detection.UrlDetector\n\nval detector = UrlDetector.default\n\nval pipeline: Stream[IO, Set[AbsoluteUrl]] =\n  Stream("text1", "text2", "text3")\n    .evalMap(text => IO(detector.extract(text)))\n'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Akka Streams:"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"import akka.stream.scaladsl._\nimport io.lambdaworks.detection.UrlDetector\n\nval detector = UrlDetector.default\n\nval flow: Flow[String, Set[AbsoluteUrl], NotUsed] =\n  Flow[String].map(text => detector.extract(text))\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsxs)(t.h3,{id:"issue-noclassdeffounderror-or-classnotfoundexception",children:["Issue: ",(0,r.jsx)(t.code,{children:"NoClassDefFoundError"})," or ",(0,r.jsx)(t.code,{children:"ClassNotFoundException"})]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Cause:"})," Missing dependencies in classpath"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Solution:"})," Ensure all dependencies are included:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'// build.sbt\nlibraryDependencies ++= Seq(\n  "io.lambdaworks" %% "scurl-detector" % "version"\n)\n'})}),"\n",(0,r.jsx)(t.p,{children:"For manual classpath setup, ensure these are included:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"scurl-detector"}),"\n",(0,r.jsx)(t.li,{children:"scala-uri"}),"\n",(0,r.jsx)(t.li,{children:"url-detector (LinkedIn's Java library)"}),"\n",(0,r.jsx)(t.li,{children:"commons-validator"}),"\n"]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"issue-urls-in-json-not-detected-correctly",children:"Issue: URLs in JSON not detected correctly"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Cause:"})," Using wrong detection option"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Solution:"})," Use ",(0,r.jsx)(t.code,{children:"UrlDetectorOptions.Json"}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"// Wrong\nval urls = UrlDetector.default.extract(jsonString)\n\n// Correct\nval urls = UrlDetector(UrlDetectorOptions.Json).extract(jsonString)\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"issue-too-many-false-positives",children:"Issue: Too many false positives"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Use appropriate detection option"})," for your content type"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Apply host filtering"})," to limit results"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Post-filter"})," results with custom validation:"]}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'def isValidUrl(url: AbsoluteUrl): Boolean = {\n  val validSchemes = Set("http", "https")\n  val hasValidScheme = url.schemeOption.exists(validSchemes.contains)\n  val hasStandardPort = url.port.forall(p => p == 80 || p == 443 || p == 8080)\n\n  hasValidScheme && hasStandardPort\n}\n\nval urls = detector.extract(text).filter(isValidUrl)\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"issue-ipv6-urls-not-detected",children:"Issue: IPv6 URLs not detected"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Cause:"})," IPv6 URLs need proper bracket notation"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Solution:"})," Ensure IPv6 addresses are properly formatted:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'// Correct format\nval urls = detector.extract("http://[2001:db8::1]:8080/")\n\n// Incorrect format (won\'t be detected)\nval urls = detector.extract("http://2001:db8::1:8080/")\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"issue-internalintranet-urls-not-detected",children:"Issue: Internal/intranet URLs not detected"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Cause:"})," Single-level domains are rejected by default"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Solution:"})," Use ",(0,r.jsx)(t.code,{children:"AllowSingleLevelDomain"}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val detector = UrlDetector(UrlDetectorOptions.AllowSingleLevelDomain)\nval urls = detector.extract("http://intranet/docs")\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"issue-memory-usage-is-high-with-large-documents",children:"Issue: Memory usage is high with large documents"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.strong,{children:"Process in chunks:"})}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"val chunkSize = 10000\nval chunks = largeText.grouped(chunkSize)\nval allUrls = chunks.flatMap(chunk => detector.extract(chunk)).toSet\n"})}),"\n",(0,r.jsxs)(t.ol,{start:"2",children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.strong,{children:"Stream processing:"})}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'import scala.io.Source\nval urls = Source.fromFile("large.txt")\n  .getLines()\n  .flatMap(line => detector.extract(line))\n  .toSet\n'})}),"\n",(0,r.jsxs)(t.ol,{start:"3",children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Limit result size"})," with filtering"]}),"\n"]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsxs)(t.h3,{id:"issue-getting-javanetmalformedurlexception",children:["Issue: Getting ",(0,r.jsx)(t.code,{children:"java.net.MalformedURLException"})]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Cause:"})," This shouldn't happen - the library catches parsing exceptions"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"If you see this:"})}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Check if you're directly using scala-uri's parse methods"}),"\n",(0,r.jsxs)(t.li,{children:["Ensure you're using the library's ",(0,r.jsx)(t.code,{children:"extract"})," method"]}),"\n",(0,r.jsxs)(t.li,{children:["Report as a bug if it's coming from ",(0,r.jsx)(t.code,{children:"extract"})]}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"// Safe - exceptions are caught internally\nval urls = detector.extract(text)\n\n// Unsafe - can throw exceptions\nval url = AbsoluteUrl.parse(possiblyInvalidUrl)\n\n// Safe alternative\nTry(AbsoluteUrl.parse(possiblyInvalidUrl)).toOption\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,r.jsx)(t.h3,{id:"pattern-validating-user-input",children:"Pattern: Validating User Input"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'def extractSafeUrls(userInput: String): Set[AbsoluteUrl] = {\n  val detector = UrlDetector(UrlDetectorOptions.Default)\n    .withDenied(\n      Host.parse("localhost"),\n      Host.parse("127.0.0.1"),\n      Host.parse("0.0.0.0")\n    )\n\n  detector.extract(userInput)\n    .filter(_.schemeOption.exists(s => Set("http", "https").contains(s)))\n}\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"pattern-extracting-apis-from-documentation",children:"Pattern: Extracting APIs from Documentation"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'def extractApiUrls(docs: String): Set[AbsoluteUrl] = {\n  UrlDetector(UrlDetectorOptions.BracketMatch)\n    .extract(docs)\n    .filter(_.path.toString().contains("/api/"))\n}\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"pattern-building-a-url-allow-list",children:"Pattern: Building a URL Allow List"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val allowedDomains = Set("example.com", "api.example.com", "cdn.example.com")\n\nval detector = allowedDomains.foldLeft(UrlDetector.default) { (det, domain) =>\n  det.withAllowed(Host.parse(domain))\n}\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,r.jsx)(t.p,{children:"If you can't find the answer here:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Check the ",(0,r.jsx)(t.a,{href:"/scurl-detector/overview/overview_example",children:"examples documentation"})]}),"\n",(0,r.jsxs)(t.li,{children:["Review the ",(0,r.jsx)(t.a,{href:"/scurl-detector/overview/overview_api",children:"API reference"})]}),"\n",(0,r.jsxs)(t.li,{children:["Search ",(0,r.jsx)(t.a,{href:"https://github.com/lambdaworks/scurl-detector/issues",children:"GitHub Issues"})]}),"\n",(0,r.jsxs)(t.li,{children:["Open a new issue with:","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Scala version"}),"\n",(0,r.jsx)(t.li,{children:"Library version"}),"\n",(0,r.jsx)(t.li,{children:"Minimal reproducible example"}),"\n",(0,r.jsx)(t.li,{children:"Expected vs actual behavior"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"reporting-bugs",children:"Reporting Bugs"}),"\n",(0,r.jsx)(t.p,{children:"When reporting bugs, please include:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Scala version:"})," (e.g., 2.13.12)"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Library version:"})," (e.g., scurl-detector 1.0.0)"]}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.strong,{children:"Minimal code example:"})}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val detector = UrlDetector.default\nval result = detector.extract("your test input")\nprintln(result) // What you got\n// Expected: what you expected\n'})}),"\n",(0,r.jsxs)(t.ol,{start:"4",children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Error messages"})," (if any)"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Environment details"})," (OS, JVM version)"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,t,n){n.d(t,{R:()=>i,x:()=>a});var s=n(6540);const r={},l=s.createContext(r);function i(e){const t=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(l.Provider,{value:t},e.children)}}}]);
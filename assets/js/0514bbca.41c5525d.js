"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[673],{2688(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"overview/overview_usage","title":"Usage Guide","description":"Core Concepts","source":"@site/../scurl-detector-docs/target/mdoc/overview/overview_usage.md","sourceDirName":"overview","slug":"/overview/overview_usage","permalink":"/scurl-detector/overview/overview_usage","draft":false,"unlisted":false,"editUrl":"https://github.com/lambdaworks/scurl-detector/edit/main/docs/overview/overview_usage.md","tags":[],"version":"current","frontMatter":{"id":"overview_usage","title":"Usage Guide"},"sidebar":"docs","previous":{"title":"Overview","permalink":"/scurl-detector/overview/overview_index"},"next":{"title":"Examples","permalink":"/scurl-detector/overview/overview_example"}}');var r=n(4848),s=n(8453);const i={id:"overview_usage",title:"Usage Guide"},o=void 0,c={},a=[{value:"Core Concepts",id:"core-concepts",level:2},{value:"URL Representation",id:"url-representation",level:3},{value:"UrlDetector",id:"urldetector",level:2},{value:"Creating a Detector",id:"creating-a-detector",level:3},{value:"Using Default Configuration",id:"using-default-configuration",level:4},{value:"Using Specific Options",id:"using-specific-options",level:4},{value:"Builder Pattern",id:"builder-pattern",level:3},{value:"Configuring Detection Options",id:"configuring-detection-options",level:3},{value:"Host Filtering",id:"host-filtering",level:2},{value:"Allowing Specific Hosts",id:"allowing-specific-hosts",level:3},{value:"Denying Specific Hosts",id:"denying-specific-hosts",level:3},{value:"Combining Allow and Deny",id:"combining-allow-and-deny",level:3},{value:"UrlDetectorOptions",id:"urldetectoroptions",level:2},{value:"Available Options",id:"available-options",level:3},{value:"Choosing the Right Option",id:"choosing-the-right-option",level:3},{value:"Extracting URLs",id:"extracting-urls",level:2},{value:"Basic Extraction",id:"basic-extraction",level:3},{value:"Extraction Behavior",id:"extraction-behavior",level:3},{value:"Working with Results",id:"working-with-results",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"Thread Safety",id:"thread-safety",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,r.jsx)(t.h3,{id:"url-representation",children:"URL Representation"}),"\n",(0,r.jsxs)(t.p,{children:["This library uses the ",(0,r.jsx)(t.a,{href:"https://github.com/lemonlabsuk/scala-uri",children:"scala-uri"})," library for representing URLs. All extracted URLs are returned as ",(0,r.jsx)(t.code,{children:"AbsoluteUrl"})," instances, which provide a type-safe, immutable representation of fully-qualified URLs."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'import io.lemonlabs.uri.AbsoluteUrl\n\n// AbsoluteUrl has convenient accessors:\nval url: AbsoluteUrl = // ... extracted URL\nurl.schemeOption  // Some("https")\nurl.host          // example.com\nurl.port          // Some(8080) or None\nurl.path          // /api/v1/users\nurl.query         // QueryString with parameters\nurl.fragment      // Some("section") or None\n'})}),"\n",(0,r.jsx)(t.h2,{id:"urldetector",children:"UrlDetector"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"UrlDetector"})," class is the main entry point for URL extraction."]}),"\n",(0,r.jsx)(t.h3,{id:"creating-a-detector",children:"Creating a Detector"}),"\n",(0,r.jsx)(t.h4,{id:"using-default-configuration",children:"Using Default Configuration"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"import io.lambdaworks.detection.UrlDetector\n\nval detector = UrlDetector.default\n"})}),"\n",(0,r.jsx)(t.h4,{id:"using-specific-options",children:"Using Specific Options"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"import io.lambdaworks.detection.{UrlDetector, UrlDetectorOptions}\n\nval htmlDetector = UrlDetector(UrlDetectorOptions.Html)\nval jsonDetector = UrlDetector(UrlDetectorOptions.Json)\nval xmlDetector = UrlDetector(UrlDetectorOptions.Xml)\n"})}),"\n",(0,r.jsx)(t.h3,{id:"builder-pattern",children:"Builder Pattern"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"UrlDetector"})," follows an immutable builder pattern. All methods return new instances:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'// Each method returns a new detector\nval detector = UrlDetector.default\n  .withAllowed(Host.parse("example.com"))\n  .withDenied(Host.parse("ads.example.com"))\n'})}),"\n",(0,r.jsx)(t.h3,{id:"configuring-detection-options",children:"Configuring Detection Options"}),"\n",(0,r.jsx)(t.p,{children:"Change detection options on an existing detector:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"val defaultDetector = UrlDetector.default\nval htmlDetector = defaultDetector.withOptions(UrlDetectorOptions.Html)\n"})}),"\n",(0,r.jsx)(t.h2,{id:"host-filtering",children:"Host Filtering"}),"\n",(0,r.jsx)(t.h3,{id:"allowing-specific-hosts",children:"Allowing Specific Hosts"}),"\n",(0,r.jsx)(t.p,{children:"Extract URLs only from allowed hosts:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'import io.lemonlabs.uri.Host\n\nval detector = UrlDetector.default.withAllowed(\n  Host.parse("example.com"),\n  Host.parse("github.com")\n)\n\nval urls = detector.extract("Visit example.com, github.com, and other.com")\n// Returns only: example.com, github.com\n'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Subdomain Matching:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"example.com"})," matches ",(0,r.jsx)(t.code,{children:"www.example.com"}),", ",(0,r.jsx)(t.code,{children:"api.example.com"}),", etc."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"www"})," subdomain is automatically assumed"]}),"\n",(0,r.jsx)(t.li,{children:"All subdomains are included unless specifically denied"}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"denying-specific-hosts",children:"Denying Specific Hosts"}),"\n",(0,r.jsx)(t.p,{children:"Exclude URLs from specific hosts:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val detector = UrlDetector.default.withDenied(\n  Host.parse("ads.example.com"),\n  Host.parse("tracking.example.com")\n)\n\nval urls = detector.extract("Visit example.com and ads.example.com")\n// Returns only: example.com\n'})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Important:"})," Denied hosts take precedence over allowed hosts."]}),"\n",(0,r.jsx)(t.h3,{id:"combining-allow-and-deny",children:"Combining Allow and Deny"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val detector = UrlDetector.default\n  .withAllowed(Host.parse("example.com"))      // Allow example.com and all subdomains\n  .withDenied(Host.parse("ads.example.com"))   // Except ads.example.com\n\nval urls = detector.extract("""\n  https://example.com\n  https://api.example.com\n  https://ads.example.com\n""")\n// Returns: example.com, api.example.com\n// Excludes: ads.example.com\n'})}),"\n",(0,r.jsx)(t.h2,{id:"urldetectoroptions",children:"UrlDetectorOptions"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"UrlDetectorOptions"})," is a sealed trait (sum type) that defines different detection modes optimized for specific content formats."]}),"\n",(0,r.jsx)(t.h3,{id:"available-options",children:"Available Options"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Option"}),(0,r.jsx)(t.th,{children:"Use Case"}),(0,r.jsx)(t.th,{children:"Documentation"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Default"})}),(0,r.jsx)(t.td,{children:"Plain text"}),(0,r.jsx)(t.td,{children:"Basic URL detection"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"QuoteMatch"})}),(0,r.jsx)(t.td,{children:"Double-quoted URLs"}),(0,r.jsxs)(t.td,{children:["Strips matching ",(0,r.jsx)(t.code,{children:'"'})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"SingleQuoteMatch"})}),(0,r.jsx)(t.td,{children:"Single-quoted URLs"}),(0,r.jsxs)(t.td,{children:["Strips matching ",(0,r.jsx)(t.code,{children:"'"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"BracketMatch"})}),(0,r.jsx)(t.td,{children:"Bracketed URLs"}),(0,r.jsxs)(t.td,{children:["Handles ",(0,r.jsx)(t.code,{children:"()"}),", ",(0,r.jsx)(t.code,{children:"{}"}),", ",(0,r.jsx)(t.code,{children:"[]"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Json"})}),(0,r.jsx)(t.td,{children:"JSON content"}),(0,r.jsx)(t.td,{children:"JSON-optimized detection"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Javascript"})}),(0,r.jsx)(t.td,{children:"JavaScript code"}),(0,r.jsx)(t.td,{children:"JS-optimized detection"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Xml"})}),(0,r.jsx)(t.td,{children:"XML documents"}),(0,r.jsx)(t.td,{children:"XML-optimized detection"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Html"})}),(0,r.jsx)(t.td,{children:"HTML pages"}),(0,r.jsx)(t.td,{children:"HTML-optimized detection"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"AllowSingleLevelDomain"})}),(0,r.jsx)(t.td,{children:"Localhost/internal"}),(0,r.jsx)(t.td,{children:"Allows single-level domains"})]})]})]}),"\n",(0,r.jsxs)(t.p,{children:["For detailed information about each option, see the ",(0,r.jsx)(t.a,{href:"/scurl-detector/overview/overview_options",children:"Detection Options Reference"}),"."]}),"\n",(0,r.jsx)(t.h3,{id:"choosing-the-right-option",children:"Choosing the Right Option"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'// For HTML content\nval htmlDetector = UrlDetector(UrlDetectorOptions.Html)\nhtmlDetector.extract("<a href=\'https://example.com\'>Link</a>")\n\n// For JSON API responses\nval jsonDetector = UrlDetector(UrlDetectorOptions.Json)\njsonDetector.extract("""{"url": "https://api.example.com"}""")\n\n// For development (allows localhost)\nval devDetector = UrlDetector(UrlDetectorOptions.AllowSingleLevelDomain)\ndevDetector.extract("http://localhost:8080")\n'})}),"\n",(0,r.jsx)(t.h2,{id:"extracting-urls",children:"Extracting URLs"}),"\n",(0,r.jsx)(t.h3,{id:"basic-extraction",children:"Basic Extraction"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val detector = UrlDetector.default\nval text = "Visit https://example.com and www.github.com"\nval urls: Set[AbsoluteUrl] = detector.extract(text)\n\nurls.foreach(println)\n'})}),"\n",(0,r.jsx)(t.h3,{id:"extraction-behavior",children:"Extraction Behavior"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Scheme Handling:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["URLs without schemes get ",(0,r.jsx)(t.code,{children:"http://"})," by default"]}),"\n",(0,r.jsxs)(t.li,{children:["Protocol-relative URLs (",(0,r.jsx)(t.code,{children:"//example.com"}),") become ",(0,r.jsx)(t.code,{children:"http://example.com"})]}),"\n",(0,r.jsx)(t.li,{children:"Explicit schemes are preserved"}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val urls = detector.extract("""\n  example.com              \u2192 http://example.com\n  https://example.com      \u2192 https://example.com\n  //cdn.example.com        \u2192 http://cdn.example.com\n""")\n'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Filtering:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Email addresses are automatically excluded"}),"\n",(0,r.jsx)(t.li,{children:"Invalid URLs are silently filtered out"}),"\n",(0,r.jsxs)(t.li,{children:["Duplicate URLs are removed (returns a ",(0,r.jsx)(t.code,{children:"Set"}),")"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Result Type:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Returns ",(0,r.jsx)(t.code,{children:"Set[AbsoluteUrl]"})," (immutable, no duplicates)"]}),"\n",(0,r.jsxs)(t.li,{children:["Empty set if no URLs found (never returns ",(0,r.jsx)(t.code,{children:"null"}),")"]}),"\n",(0,r.jsx)(t.li,{children:"No exceptions thrown for invalid URLs"}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"working-with-results",children:"Working with Results"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'val urls = detector.extract(text)\n\n// Check if URLs were found\nif (urls.nonEmpty) {\n  println(s"Found ${urls.size} URLs")\n}\n\n// Iterate over URLs\nurls.foreach { url =>\n  println(s"${url.host} - ${url}")\n}\n\n// Filter by scheme\nval httpsOnly = urls.filter(_.schemeOption.contains("https"))\n\n// Group by host\nval byHost = urls.groupBy(_.host)\n\n// Convert to list\nval urlList = urls.toList.sortBy(_.toString)\n'})}),"\n",(0,r.jsx)(t.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'import io.lambdaworks.detection.{UrlDetector, UrlDetectorOptions}\nimport io.lemonlabs.uri.{Host, AbsoluteUrl}\n\nobject UrlExtractor {\n  def extractFromHtml(htmlContent: String): Set[AbsoluteUrl] = {\n    UrlDetector(UrlDetectorOptions.Html)\n      .withAllowed(\n        Host.parse("example.com"),\n        Host.parse("cdn.example.com")\n      )\n      .withDenied(Host.parse("ads.example.com"))\n      .extract(htmlContent)\n  }\n\n  def extractHttpsOnly(text: String): Set[AbsoluteUrl] = {\n    UrlDetector.default\n      .extract(text)\n      .filter(_.schemeOption.contains("https"))\n  }\n}\n\n// Usage\nval html = """\n  <a href="https://example.com">Home</a>\n  <img src="https://cdn.example.com/logo.png">\n  <script src="https://ads.example.com/track.js"><\/script>\n"""\n\nval urls = UrlExtractor.extractFromHtml(html)\nurls.foreach(println)\n'})}),"\n",(0,r.jsx)(t.h2,{id:"thread-safety",children:"Thread Safety"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"UrlDetector"})," instances are immutable and thread-safe. You can safely share them across threads:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"object Detectors {\n  // Safe to use across multiple threads\n  val default: UrlDetector = UrlDetector.default\n  val html: UrlDetector = UrlDetector(UrlDetectorOptions.Html)\n}\n\n// Concurrent usage is safe\nimport scala.concurrent.Future\nimport scala.concurrent.ExecutionContext.Implicits.global\n\nval futures = documents.map { doc =>\n  Future {\n    Detectors.html.extract(doc)\n  }\n}\n"})}),"\n",(0,r.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["See ",(0,r.jsx)(t.a,{href:"/scurl-detector/overview/overview_example",children:"Examples"})," for more comprehensive examples"]}),"\n",(0,r.jsxs)(t.li,{children:["Review ",(0,r.jsx)(t.a,{href:"/scurl-detector/overview/overview_options",children:"Detection Options"})," for detailed option descriptions"]}),"\n",(0,r.jsxs)(t.li,{children:["Explore ",(0,r.jsx)(t.a,{href:"/scurl-detector/overview/overview_advanced",children:"Advanced Usage"})," for sophisticated patterns"]}),"\n",(0,r.jsxs)(t.li,{children:["Check the ",(0,r.jsx)(t.a,{href:"/scurl-detector/overview/overview_api",children:"API Reference"})," for complete method documentation"]}),"\n",(0,r.jsxs)(t.li,{children:["Visit ",(0,r.jsx)(t.a,{href:"/scurl-detector/overview/overview_faq",children:"FAQ"})," if you encounter issues"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,t,n){n.d(t,{R:()=>i,x:()=>o});var l=n(6540);const r={},s=l.createContext(r);function i(e){const t=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),l.createElement(s.Provider,{value:t},e.children)}}}]);